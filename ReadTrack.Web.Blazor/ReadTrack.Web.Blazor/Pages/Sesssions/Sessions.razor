@page "/sessions"

<div class="row">
    <div class="col-lg-12">
        <button mat-raised-button color="accent" (click)="createSession()">New Session</button>
        
        <app-search-box (filter)="updateFilter($event)"></app-search-box>
        
        <ngx-datatable class="material test-check" [rows]="sessions" [externalPaging]="true" [externalSorting]="false"
        [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'"
        [count]="count" [offset]="offset" [limit]="limit" (page)='onPage($event)' >
            <ngx-datatable-column name="ID" prop="id" [width]="80"></ngx-datatable-column>
            <ngx-datatable-column name="Actions" [sortable]="false" prop="id" [width]="325">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    <a class="success p-0" data-original-title="Edit" title="Edit" (click)="editSession(row.id)">
                        <i class="fa fa-edit"></i>
                    </a>
                    |
                    <a class="success p-0" data-original-title="Delete" title="Delete" (click)="deleteSession(row)">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                    </a>                    
                </ng-template>
            </ngx-datatable-column>            
            <ngx-datatable-column name="Date" prop="date">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    {{ value | date:'MM/dd/yyyy' }}
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Duration" prop="duration">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    {{ value }}
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="Number of Pages" prop="numberOfPages" [width]="250"></ngx-datatable-column>
            <ngx-datatable-column name="Start Page" prop="startPage"></ngx-datatable-column>
            <ngx-datatable-column name="End Page" prop="endPage" [width]="250"></ngx-datatable-column>            
            <ngx-datatable-column name="Number of Pages" prop="numberOfPages"></ngx-datatable-column>                        
        </ngx-datatable>
    </div>
</div>