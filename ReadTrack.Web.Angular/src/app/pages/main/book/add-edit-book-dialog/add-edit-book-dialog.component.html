<h2 mat-dialog-title>{{ title }}</h2>
<mat-dialog-content class="mat-typography">
    <form *ngIf="form" [formGroup]="form" (ngSubmit)="submit()" autocomplete="off" novalidate>
        <div class="row justify-content-center align-items-center">            
            <div class="card">
                <div class="card-body pl-5 pr-5">
                    <div class="row">
                        <div class="col-12">
                            <div class="row justify-content-center">
                                <div class="col-md-12">
                                    <div class="form-group">                                        
                                        <mat-form-field>
                                            <mat-label>Name</mat-label>
                                            <input matInput formControlName="name" />
                                            <mat-error *ngIf="!form.get('name')?.valid && (form.get('name')?.dirty || form.get('name')?.touched)">
                                                Name is required
                                            </mat-error>
                                        </mat-form-field>      
                                    </div>                                
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <mat-form-field>
                                            <mat-label>Author</mat-label>
                                            <input matInput formControlName="author" />
                                            <mat-error *ngIf="!form.get('author')?.valid && (form.get('author')?.dirty || form.get('author')?.touched)">
                                                Author is required
                                            </mat-error>
                                        </mat-form-field>      
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <mat-form-field>
                                            <mat-label>Category</mat-label>
                                            <mat-select formControlName="category">
                                                <mat-option *ngFor="let category of categories" [value]="category">{{ category }}</mat-option>
                                            </mat-select>
                                        </mat-form-field>      
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <mat-form-field>
                                            <mat-label>Published</mat-label>
                                            <input matInput [matDatepicker]="publishedDatePicker" formControlName="published" />
                                            <mat-datepicker-toggle matIconSuffix [for]="publishedDatePicker"></mat-datepicker-toggle>
                                            <mat-datepicker #publishedDatePicker></mat-datepicker>
                                        </mat-form-field>      
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <mat-form-field>
                                            <mat-label>Number of Pages</mat-label>
                                            <input matInput type="number" formControlName="numberOfPages" />
                                            <mat-error *ngIf="!form.get('numberOfPages')?.valid && (form.get('numberOfPages')?.dirty || form.get('numberOfPages')?.touched)">
                                                Number of pages is required
                                            </mat-error>
                                        </mat-form-field>      
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="form-group">
                                        <mat-checkbox formControlName="finished">Finished</mat-checkbox>                                
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>                    
                </div>
            </div>
        </div>
    </form>
</mat-dialog-content>
<mat-dialog-actions *ngIf="form" align="end">
    <button mat-raised-button color="accent" type="submit" [disabled]="!form.valid" (click)="submit()">Save</button>
    <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>